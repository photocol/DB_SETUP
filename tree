#!/bin/bash

# prints the input
function setup() {
    git remote remove server
    git remote remove website
    git remote add server https://github.com/photocol/photocol-server.git
    git remote add website https://github.com/photocol/photocol-website.git
    git subtree add --prefix=server/ server endpointsv1 --squash
    git subtree add --prefix=website/ website dev --squash
    git rm -r --cached website/
    git rm -r --cached server/
    mvn -N io.takari:maven:wrapper -f ./server
}

function pull() {
    if [ $# -eq 0 ]
        then
        git subtree pull --prefix=server server endpointsv1 --squash
        mvn -N io.takari:maven:wrapper -f ./server
        git subtree pull --prefix=website website dev --squash
        git rm -r --cached website/
        git rm -r --cached server/
        else
        git subtree pull --prefix=$1 $1 $2 --squash
        git rm -r --cached $1
    fi
    
}

function push() {
    git add .
    git commit -m "auto"
    git push origin $1
}

function clear() {
    rm -rf server website
}
